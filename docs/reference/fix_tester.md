<!-- markdownlint-disable -->

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L0"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

# <kbd>module</kbd> `fix_tester`
FIX Protocol Unit Tester. 

**Global Variables**
---------------
- **nan**


---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L13"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

## <kbd>class</kbd> `FIXTester`
FIX protocol tester. 



**Attributes:**
 
 - <b>`registered_orders`</b>:  registered orders (sent via FIXTester) 
 - <b>`schema`</b>:  fix schema for validation (optional) 
 - <b>`conn_init`</b>:  fix connection initiator 
 - <b>`conn_accept`</b>:  fix virtual acceptor (simulated by FIXTester) 
 - <b>`initiator_sent`</b>:  messages sent by initiator 
 - <b>`acceptor_rcv_que`</b>:  raw messages received by (simulated acceptor) 
 - <b>`acceptor_sent`</b>:  FIXMessages sent by simulated acceptor 

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L26"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `__init__`

```python
__init__(
    schema: FIXSchema | None = None,
    connection: AsyncFIXConnection | None = None
)
```

Initialize FIXTester. 



**Args:**
 
 - <b>`schema`</b>:  (optional) FIXSchema for validating incoming/outgoing messages 
 - <b>`connection`</b>:  (optional) fix initiator connection 




---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L111"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `acceptor_sent_query`

```python
acceptor_sent_query(
    tags: tuple[FTag | str | int] | None = None,
    index: int = -1
) → dict[FTag | str, str]
```

Query message sent from FIXTester to initiator. 



**Args:**
 
 - <b>`tags`</b>:  tuple of tag numbers 
 - <b>`index`</b>:  index of self.acceptor_sent list, default -1 



**Returns:**
 
 - <b>`dict {FTag.MsgSeqNum`</b>:  "34", "12382": "some value"} 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L219"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `fix_cxl_request`

```python
fix_cxl_request(o: FIXNewOrderSingle) → FIXMessage
```

Generates FIXNewOrderSingle cancel request + optional validation. 



**Returns:**
  cancel FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L255"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `fix_cxlrep_reject_msg`

```python
fix_cxlrep_reject_msg(cxl_req: FIXMessage, ord_status: FOrdStatus) → FIXMessage
```

Generates synthetic ORDERCANCELREJECT message. 



**Args:**
 
 - <b>`cxl_req`</b>:  cancel / replace request FIXMessage (from initiator) 
 - <b>`ord_status`</b>:  new order status generated by this reply 



**Returns:**
 ORDERCANCELREJECT FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L293"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `fix_exec_report_msg`

```python
fix_exec_report_msg(
    order: FIXNewOrderSingle,
    clord_id: str,
    exec_type: FExecType,
    ord_status: FOrdStatus,
    cum_qty: float = nan,
    leaves_qty: float = nan,
    last_qty: float = nan,
    price: float = nan,
    order_qty: float = nan,
    orig_clord_id: str = None,
    avg_price: float = 0.0
) → FIXMessage
```

Generates synthetic EXECUTIONREPORT. 



**Args:**
 
 - <b>`order`</b>:  FIXNewOrderSingle to report 
 - <b>`clord_id`</b>:  report ClOrdID tag 
 - <b>`exec_type`</b>:  report ExecType 
 - <b>`ord_status`</b>:  report FOrdStatus 
 - <b>`cum_qty`</b>:  filled qty 
 - <b>`leaves_qty`</b>:  remaining qty 
 - <b>`last_qty`</b>:  last trade qty 
 - <b>`price`</b>:  (ONLY IN REPLACE) price of replaced order 
 - <b>`order_qty`</b>:  (ONLY IN REPLACE) qty of replaced order 
 - <b>`orig_clord_id`</b>:  report OrigClOrdID 
 - <b>`avg_price`</b>:  average fill price 



**Returns:**
 EXECUTIONREPORT FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L232"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `fix_rep_request`

```python
fix_rep_request(
    o: FIXNewOrderSingle,
    price: float = nan,
    qty: float = nan
) → FIXMessage
```

Generates FIXNewOrderSingle replace request + optional validating. 



**Args:**
 
 - <b>`o`</b>:  FIXNewOrderSingle 
 - <b>`price`</b>:  new price, nan - to skip 
 - <b>`qty`</b>:  new quantity, nan - to skip 



**Returns:**
 replace FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L127"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `initiator_sent_query`

```python
initiator_sent_query(
    tags: tuple[FTag | str | int] | None = None,
    index: int = -1
) → dict[FTag | str, str]
```

Query message sent from initiator to FixTester. 



**Args:**
 
 - <b>`tags`</b>:  tuple of tag numbers 
 - <b>`index`</b>:  index of self.initiator_sent list, default -1 



**Returns:**
 
 - <b>`dict {FTag.MsgSeqNum`</b>:  "34", "12382": "some value"} 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L452"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_heartbeat`

```python
msg_heartbeat(test_req_id=None) → FIXMessage
```

Generates message HEARTBEAT + schema validation. 



**Args:**
 
 - <b>`test_req_id`</b>:  if Heartbeat in reply to TESTREQUEST 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L423"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_logon`

```python
msg_logon(tags: dict | None = None) → FIXMessage
```

Generates message LOGON + schema validation. 



**Args:**
 
 - <b>`tags`</b>:  extra tags 



**Returns:**
 FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L443"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_logout`

```python
msg_logout() → FIXMessage
```

Generates message LOGOUT + schema validation. 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L502"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_resend_request`

```python
msg_resend_request(begin_seq_no, end_seq_no='0') → FIXMessage
```

Generates message RESENDREQUEST + schema validation. 



**Args:**
 
 - <b>`begin_seq_no`</b>:  seq no to start with 
 - <b>`end_seq_no`</b>:  end seq no, "0" - means all 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L481"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_sequence_reset`

```python
msg_sequence_reset(
    msg_seq_num: int,
    new_seq_no: int,
    is_gap_fill: bool = False
) → FIXMessage
```

Generates message SEQUENCERESET + schema validation. 



**Args:**
 
 - <b>`msg_seq_num`</b>:  FTag.MsgSeqNum value 
 - <b>`new_seq_no`</b>:  FTag.NewSeqNo value 
 - <b>`is_gap_fill`</b>:  FTag.GapFillFlag "Y"/"N" 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L467"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `msg_test_request`

```python
msg_test_request(test_req_id) → FIXMessage
```

Generates message TESTREQUEST + schema validation. 



**Args:**
 
 - <b>`test_req_id`</b>:  unique test request id 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L214"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `order_register_single`

```python
order_register_single(o: FIXNewOrderSingle)
```

Registers FIXNewOrderSingle. 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L165"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `process_msg_acceptor`

```python
process_msg_acceptor(index=None)
```

Processes messages queued by initiator.send_msg(). 



**Args:**
 
 - <b>`index`</b>:  None - processes all messages in que, number - only one at that index 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L179"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `reply`

```python
reply(msg: FIXMessage)
```

Manually reply to the initiator with arbitrary FIXMessage. 



**Args:**
 
 - <b>`msg`</b>:  arbitrary FIXMessage 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L105"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `reset_messages`

```python
reset_messages()
```

Reset messages queues of initiator and acceptor. 

---

<a href="https://github.com/alexveden/asyncfix/blob/main/asyncfix/fix_tester.py#L89"><img align="right" style="float:right;" src="https://img.shields.io/badge/-source-cccccc?style=flat-square"></a>

### <kbd>method</kbd> `set_next_num`

```python
set_next_num(num_in=None, num_out=None)
```

Set expected session seq nums for simulated acceptor. 



**Args:**
 
 - <b>`num_in`</b>:  next num in expected by simulated acceptor 
 - <b>`num_out`</b>:  next num out sent by simulated acceptor 




---

_This file was automatically generated via [lazydocs](https://github.com/ml-tooling/lazydocs)._
